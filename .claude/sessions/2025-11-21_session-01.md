# Session 01: Project Initiation & Documentation Structure

**Date**: 2025-11-21
**Session ID**: 01K4cNV8XJiShKAHQTWreiBr
**Focus**: Establishing project vision and documentation framework

## Topics Covered
- Initial project vision discussion
- Repository documentation structure
- Best practices alignment

---

## Key Discussions

### [06:35 UTC] Project Vision Introduction

**User Request**:
> "Lets go on a journey together to create a web site where you can see the UBL model, maintain it and is the source for the GC files that are the basis for the UBL releases packages."

**Initial Understanding**:
- Website for UBL model visualization
- Model maintenance capabilities
- Authoritative source for GC files for UBL releases

**Questions Raised**:
- Technology stack preferences
- UBL model structure and format
- GC files definition and format
- Feature priorities
- Deployment requirements

### [06:40 UTC] Approach & Methodology

**Decision**: Analysis-first approach

**User Direction**:
> "Its important that you DO NOT write any code. We are going to do the analysis first and document what we want the solution to be .. and then work our way back from there to see how we want to achieve that"

**Agreed Process**:
1. Understand the domain
2. Define the vision
3. Document requirements
4. Design architecture (working backwards)
5. Implementation (only after clear plan)

**Rationale**: Avoid rework by fully understanding problem space before coding

### [06:45 UTC] Documentation Structure

**Decision**: Establish `.claude` directory for project knowledge management

**Structure Agreed**:
```
.claude/
├── CLAUDE.md              # Main reference (uppercase per best practices)
├── commands/              # Reusable slash commands
├── settings.json          # Tool permissions
├── sessions/              # Conversation history (project-specific)
└── decisions/             # Decision records (project-specific)
```

**Key Points**:
- Follow Anthropic's official best practices
- `CLAUDE.md` in uppercase (per official docs)
- Session logs for tracking conversations and decisions
- Timestamped and arranged by session
- Commit after major topics/decisions

**Rationale**: Create knowledge base for future sessions and team collaboration

---

## Decisions Made

| Decision | Rationale | Reference |
|----------|-----------|-----------|
| CLAUDE.md (uppercase) | Official Anthropic best practice | [Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices) |
| Analysis before code | Avoid rework, ensure complete understanding | User directive |
| Session logging | Track decision history and reasoning | Project requirement |
| .claude directory structure | Align with best practices + project needs | Combined approach |

---

## Next Steps

- [ ] Define what UBL is and current maintenance process
- [ ] Understand GC files and their role
- [ ] Identify user personas and use cases
- [ ] Document pain points with current system
- [ ] Define success criteria for the website

---

## Open Questions

1. What is UBL and how is it currently maintained?
2. What problems exist with the current approach?
3. What are GC files specifically?
4. Who are the intended users of this website?
5. What features are highest priority?

---

### [07:00 UTC] Understanding UBL and the OASIS TC

**Background Established**:
- UBL = Universal Business Language (OASIS standard)
- "HTML for business documents" - royalty-free XML standard
- Currently at version 2.4, working on 2.5
- User is TC member, chair of post-award subcommittee, and specification editor

**Key Resources**:
- OASIS UBL TC: https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=ubl
- UBL 2.5 Spec: https://docs.oasis-open.org/ubl/csd01-UBL-2.5/UBL-2.5.html
- Publishing Repo: https://github.com/oasis-tcs/ubl/blob/ubl-2.5/README.md

### [07:15 UTC] CCTS Framework and Data Model

**Understanding from Section D.4 of Spec**:

UBL is based on UN/CEFACT CCTS 2.01 (Core Components Technical Specification):

**Business Information Entities (BIEs):**
- **ABIE** (Aggregate BIE): Complex objects like "Address", "Party", "Invoice"
- **BBIE** (Basic BIE): Simple elements like "StreetName", "Amount"
- **ASBIE** (Association BIE): Relationships between ABIEs

**Spreadsheet Structure** (Columns A-Z+):
- A: Component Name (derived algorithmically)
- B: Subset (for subsetting models)
- C: Cardinality (1, 0..1, 1..n, 0..n)
- D: Endorsed Cardinality (for deprecations)
- E: Endorsed Cardinality Rationale
- F: Definition
- G: Deprecated Definition
- H: Alternative Business Terms
- I: Examples
- J: Dictionary Entry Name (unique key using ISO/IEC 11179)
- K: Object Class Qualifier
- L: Object Class
- M: Property Term Qualifier
- N: Property Term Possessive Noun
- O: Property Term Primary Noun
- P: Property Term (derived)
- Q: Representation Term
- R: Data Type Qualifier
- S: Data Type (derived)
- T: Associated Object Class Qualifier
- U: Associated Object Class
- V: Component Type (ABIE/BBIE/ASBIE)
- W: UN/TDED Code
- X: Current Version
- Y: Last Changed
- Z: Editor's Notes

**ISO/IEC 11179 Naming Convention**: Ensures unambiguous, globally unique identifiers for each BIE

### [07:30 UTC] Current Maintenance Process

**Source of Truth**: Three Google Sheets

```
Library:    https://docs.google.com/spreadsheets/d/18o1YqjHWUw0-s8mb3ja4i99obOUhs-4zpgso6RZrGaY
Documents:  https://docs.google.com/spreadsheets/d/1024Th-Uj8cqliNEJc-3pDOR7DxAAW7gCG4e-pbtarsg
Signatures: https://docs.google.com/spreadsheets/d/1T6z2NZ4mc69YllZOXE5TnT5Ey-FlVtaXN1oQ4AIMp7g
```

- **Library**: Reusable components (ABIEs, BBIEs, ASBIEs)
- **Documents**: Document types (Invoice, Order, etc.)
- **Signatures**: Digital signature extensions

**Publishing Pipeline**:
1. TC editors manually edit Google Sheets
2. GitHub Actions downloads sheets as ODS files
3. ODS → GeneriCode (GC) XML files using `ident-UBL.xml`
4. GC files → XSD/JSON schemas using `config-UBL.xml`
5. External Réalta service → HTML/PDF documentation
6. Output: Distribution packages as nested ZIPs

**GC Files**: GeneriCode format (standardized XML vocabulary) - the intermediate format between spreadsheets and final artifacts

### [07:45 UTC] Problem Statement

**Pain Points with Current Approach**:
- Difficult to track changes in Google Sheets
- Hard to coordinate edits among multiple TC members
- No formal approval workflow for changes
- Difficult to visualize model structure and relationships
- Challenging to onboard new contributors
- Manual coordination required

**User Statement**:
> "keeping track of changes is difficult so that is why I want to see if we can switch to a website that can keep track of the changes and also helps the maintainers to adjust and improve on the model"

### [07:50 UTC] Desired Solution - Initial Vision

**Website Goals**:
1. **Replace Google Sheets** as authoritative source for UBL model
2. **Change Tracking**: Version control and change history
3. **Visualization**: View model structure, relationships, dependencies
4. **Maintenance Interface**: Help TC members edit and improve model
5. **Export GC Files**: Generate GeneriCode files for existing publishing pipeline
6. **Collaboration**: Better coordination among editors

**Key Constraint**:
- Must integrate with existing GitHub Actions publishing pipeline
- GC file format is the critical handoff point

---

## Updated Decisions

| Decision | Rationale | Reference |
|----------|-----------|-----------|
| CLAUDE.md (uppercase) | Official Anthropic best practice | [Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices) |
| Analysis before code | Avoid rework, ensure complete understanding | User directive |
| Session logging | Track decision history and reasoning | Project requirement |
| .claude directory structure | Align with best practices + project needs | Combined approach |
| Website replaces Google Sheets | Need better change tracking and collaboration | User requirement |
| Export to GC files | Integration with existing publishing pipeline | Technical constraint |

---

## Updated Next Steps

- [x] Define what UBL is and current maintenance process
- [x] Understand GC files and their role
- [ ] Examine spreadsheet structure and formulas in detail
- [ ] Examine ident-UBL.xml and config-UBL.xml structure
- [ ] Identify user personas and use cases
- [ ] Document functional requirements
- [ ] Design data model for website
- [ ] Define API for GC file export
- [ ] Choose technology stack

---

## Critical Items to Investigate

**Spreadsheet Analysis**:
- Detailed examination of Google Sheets structure
- **Formulas used in cells** (important for derived values)
- How columns A, J, P, S are algorithmically derived
- Validation rules and constraints

**Publishing Pipeline**:
- Detailed analysis of `build.sh`, `build.py`, `build.xml`
- How `ident-UBL.xml` maps spreadsheet → GeneriCode
- How `config-UBL.xml` configures schema generation
- GeneriCode XML format specification

**Integration Points**:
- What format does GitHub Actions expect?
- Can we replace ODS input with direct GC file output?
- How to maintain backward compatibility?

---

## Key References

- [UBL TC Homepage](https://www.oasis-open.org/committees/tc_home.php?wg_abbrev=ubl)
- [UBL 2.5 Specification](https://docs.oasis-open.org/ubl/csd01-UBL-2.5/UBL-2.5.html)
- [Section D.4 - CCTS Specification](https://docs.oasis-open.org/ubl/csd01-UBL-2.5/UBL-2.5.html#D-4-THE-CCTS-SPECIFICATION-OF-UBL-BUSINESS-INFORMATION-ENTITIES)
- [Publishing Repository](https://github.com/oasis-tcs/ubl/blob/ubl-2.5/README.md)
- [UN/CEFACT CCTS 2.01](http://www.unece.org/cefact/codesfortrade/ccts_index.html)
- [ISO/IEC 11179](https://www.iso.org/standard/50340.html) - Metadata registries

---

### [08:00 UTC] User Personas and Use Cases

**Key Insights Established**:

**User Types:**
1. **All TC Members** - Can make changes (not just designated editors)
2. **Non-IT Users** - Business domain experts, need simple interface
3. **Subcommittees** - Need workspace for internal review before TC submission
4. **Public** - Read-only access to view and explore model

**Critical Requirement**:
> "these people are not IT people .. end users that just want to get things updated and reviewed by others"

**Workflow Needs:**
- Review/approval workflow for changes
- SC internal review → TC review → Approval
- Track who changed what and when

**Future Investigation Noted**:
> "maybe good to have an investigation later to see what changes have been made over time to the Google Sheets and by who to find out what is changed and when .. good input for tests and access patterns"

### [08:15 UTC] Analysis Structure Decision

**Decision**: Create `/analysis/` directory for exploratory work

**Rationale**:
- Keep analysis separate from production code
- Make investigations reproducible
- Document research and findings
- Each analysis is self-contained

**Structure Created**:
```
analysis/
├── README.md                          # Index of all analyses
├── google-sheets-history/             # Edit pattern analysis
│   ├── README.md
│   ├── prompt.md                      # Session starter prompt
│   ├── scripts/
│   ├── data/
│   └── findings.md
├── spreadsheet-formulas/              # Formula logic analysis
└── genericode-format/                 # GC format investigation
```

**Benefits**:
- Reproducible research
- Self-documenting
- Clear separation from production
- Can be re-run at any time

**First Analysis Prompt Created**: `analysis/google-sheets-history/prompt.md`
- Comprehensive context about UBL project
- Specific questions to answer
- Links to project documentation
- Expected deliverables defined

---

## Final Decisions Summary

| Decision | Rationale | Reference |
|----------|-----------|-----------|
| CLAUDE.md (uppercase) | Official Anthropic best practice | [Best Practices](https://www.anthropic.com/engineering/claude-code-best-practices) |
| Analysis before code | Avoid rework, ensure complete understanding | User directive |
| Session logging | Track decision history and reasoning | Project requirement |
| .claude directory structure | Align with best practices + project needs | Combined approach |
| Website replaces Google Sheets | Need better change tracking and collaboration | User requirement |
| Export to GC files | Integration with existing publishing pipeline | Technical constraint |
| Non-IT user focus | TC members are business experts, not developers | User requirement |
| Review/approval workflow | Changes need review before becoming official | User requirement |
| SC workspaces | Subcommittees need internal review space | User requirement |
| Public read access | Whole world should view and explore model | User requirement |
| /analysis/ directory | Keep exploratory work separate from production | Best practice |

---

## Updated Next Steps

- [x] Define what UBL is and current maintenance process
- [x] Understand GC files and their role
- [x] Identify user personas and use cases (initial)
- [ ] Complete detailed user workflow analysis (TC Editor persona)
- [ ] Document functional requirements
- [ ] Design data model for website
- [ ] Define API for GC file export
- [ ] Choose technology stack

**Future Analysis Sessions**:
- [ ] Google Sheets edit history analysis
- [ ] Spreadsheet formulas deep dive
- [ ] GeneriCode format investigation

---

*Session continues...*
